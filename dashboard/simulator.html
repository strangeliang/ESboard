<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ESboard Â· Simulator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./dashboard.css" />
</head>

<body>
<div class="app">

  <aside class="sidebar">
    <div class="logo">ESboard</div>
    <nav class="menu">
      <a href="/dashboard/">Dashboard</a>
      <a href="/dashboard/simulator.html">Simulator</a>
      <a href="/dashboard/history.html">History</a>
      <a href="/dashboard/points.html">Points</a>
      <a href="/dashboard/settings.html">Settings</a>
    </nav>
  </aside>

  <main class="main">
    <header class="topbar">
      <h1>Simulator</h1>
      <a class="user" href="/dashboard/settings.html" title="Account">ðŸ‘¤</a>
    </header>

    <section class="content">

      <!-- Input -->
      <div class="card full">
        <div class="arena">
          <div class="arena-head">
            <div>
              <h3>Input</h3>
              <div class="muted">
                Cross-game arena battles. Entertainment + explainable analysis.
              </div>
            </div>

            <div class="arena-right">
              <div class="lang">
                <button id="btnZh" type="button">ä¸­æ–‡</button>
                <button id="btnEn" type="button">EN</button>
              </div>
              <div class="pill">Points: <span id="points">0</span></div>
            </div>
          </div>

          <div class="row" style="margin-top:12px;">
            <div>
              <label>Mode</label>
              <select id="mode">
                <option value="same">Same Game (LoL vs LoL / CS2 vs CS2)</option>
                <option value="arena" selected>Cross-Game Arena</option>
              </select>
            </div>

            <div>
              <label>BO</label>
              <select id="bo">
                <option value="1">BO1</option>
                <option value="3" selected>BO3</option>
                <option value="5">BO5</option>
              </select>
            </div>

            <div class="muted" style="max-width:520px;">
              Arena maps different games into a unified panel (Mechanical/IQ/Teamwork/Clutch/Form/Adapt/Strat).
            </div>
          </div>

          <div class="row" style="margin-top:12px;">
            <div>
              <label>Team A game</label>
              <select id="teamAGame">
                <option value="lol" selected>LoL</option>
                <option value="cs">CS2</option>
              </select>
            </div>
            <div>
              <label>Team A name</label>
              <input id="teamAName" placeholder="e.g. T1" />
            </div>
            <div>
              <label>Team A last 5 (W/L)</label>
              <input id="teamALast5" placeholder="e.g. W,W,W,L,W or WWLWL" />
            </div>
          </div>

          <div class="row" style="margin-top:12px;">
            <div>
              <label>Team B game</label>
              <select id="teamBGame">
                <option value="lol">LoL</option>
                <option value="cs" selected>CS2</option>
              </select>
            </div>
            <div>
              <label>Team B name</label>
              <input id="teamBName" placeholder="e.g. Team Spirit" />
            </div>
            <div>
              <label>Team B last 5 (W/L)</label>
              <input id="teamBLast5" placeholder="e.g. L,W,L,W,L or LWLWL" />
            </div>
          </div>

          <div class="row" style="margin-top:16px;">
            <button class="btn" id="btnGen">Generate Simulation</button>
            <button class="btn2" id="btnReset">Reset Points</button>
            <span id="status" class="muted"></span>
          </div>
        </div>
      </div>

      <!-- Output -->
      <div class="card full">
        <div class="arena">
          <h3>Output</h3>
          <div id="outputEmpty" class="muted">No output yet. Fill teams and click Generate.</div>

          <div id="outputWrap" style="display:none;">
            <div class="row" style="justify-content:space-between;">
              <div>
                <div class="big" id="outMatchTitle"></div>
                <div class="muted" id="outModeNote"></div>
              </div>

              <div class="statbox" style="min-width:280px;">
                <div class="muted">Win Probability</div>
                <div class="big"><span id="outWinA">50</span>% - <span id="outWinB">50</span>%</div>
                <div class="muted" id="outWinnerText"></div>
              </div>
            </div>

            <h4 style="margin-top:14px;">Universal Attribute Panel</h4>
            <div class="grid2">
              <div class="statbox">
                <div class="big" id="outTeamAName">Team A</div>
                <div class="muted"><span id="outTeamAGame"></span></div>
                <div id="outStatsA"></div>
              </div>
              <div class="statbox">
                <div class="big" id="outTeamBName">Team B</div>
                <div class="muted"><span id="outTeamBGame"></span></div>
                <div id="outStatsB"></div>
              </div>
            </div>

            <h4 style="margin-top:14px;">Reasons</h4>
            <ul id="outReasons"></ul>

            <h4>Timeline</h4>
            <div class="timeline" id="outTimeline"></div>

            <h4>Raw JSON</h4>
            <pre id="outJson"></pre>
          </div>
        </div>
      </div>

    </section>
  </main>
</div>

<script>
  (function () {
    const path = location.pathname;
    document.querySelectorAll(".menu a").forEach(a => a.classList.remove("active"));
    const p = (path === "/dashboard" ? "/dashboard/" : path);
    const selector = (p === "/dashboard/" || p === "/dashboard/index.html")
      ? '.menu a[href="/dashboard/"]'
      : `.menu a[href="${p}"]`;
    document.querySelector(selector)?.classList.add("active");
  })();
</script>

<script src="../app.js"></script>
</body>
</html>
