<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ESboard Â· Points</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./dashboard.css" />
</head>
<body>
<div class="app">

  <aside class="sidebar">
    <div class="logo">ESboard</div>
    <nav class="menu">
      <a href="/dashboard/">Dashboard</a>
      <a href="/dashboard/simulator.html">Simulator</a>
      <a href="/dashboard/history.html">History</a>
      <a href="/dashboard/points.html">Points</a>
      <a href="/dashboard/settings.html">Settings</a>
    </nav>
  </aside>

  <main class="main">
    <header class="topbar">
      <h1>Points</h1>
      <a class="user" href="/dashboard/settings.html" title="Account">ðŸ‘¤</a>
    </header>

    <section class="content">
      <div class="card full">
        <h3>Your Points</h3>
        <p class="muted">Current points (from localStorage):</p>
        <div style="font-size:56px; font-weight:800; margin:10px 0;" id="pointsValue">0</div>
        <button class="btn2" id="btnResetPoints">Reset Points</button>
      </div>
    </section>
  </main>

</div>

<script>
  (function () {
    const path = location.pathname;
    document.querySelectorAll(".menu a").forEach(a => a.classList.remove("active"));
    const p = (path === "/dashboard" ? "/dashboard/" : path);
    const selector = (p === "/dashboard/" || p === "/dashboard/index.html")
      ? '.menu a[href="/dashboard/"]'
      : `.menu a[href="${p}"]`;
    document.querySelector(selector)?.classList.add("active");
  })();
</script>

<script>
  (function () {
    const KEY = "esboard_points_v1";
    const valueEl = document.getElementById("pointsValue");
    const btn = document.getElementById("btnResetPoints");

    function getPoints() {
      const n = Number(localStorage.getItem(KEY));
      return Number.isFinite(n) ? n : 0;
    }
    function render() {
      if (valueEl) valueEl.textContent = String(getPoints());
    }
    btn?.addEventListener("click", () => {
      localStorage.setItem(KEY, "0");
      render();
    });
    render();
  })();
</script>

<script src="../app.js"></script>
</body>
</html>
